<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>About • safeHavens</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="About">
<meta name="description" content="An overview of the package. ">
<meta property="og:description" content="An overview of the package. ">
<meta property="og:image" content="https://sagesteppe.github.io/safeHavens/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">safeHavens</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>About</h1>
            
      

      <div class="d-none name"><code>About.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="about-safehavens">about <code>safeHavens</code><a class="anchor" aria-label="anchor" href="#about-safehavens"></a>
</h2>
<p>This package helps germplasm curators communicate areas of interest
to collection teams for targeting new accessions. For common species, it
provides seven different sampling approaches for curators to choose from
for each individual taxon they hope to process. It also provides an
<em>additional</em> sampling approach for rare species. The package
allows for easy integration into existing workflows, that is reading in
accession data from databases or Excel, comparing them to occurrence
data, and then writing out run results into both tabular and simple
spatial data formats, which can be shared with collection teams and work
on handheld electronic devices (e.g. Qfield). It allows germplasm
curators to have sophisticated spatial abilities without the need to be
GIS experts or have access to any fee-based software.</p>
<div class="section level4">
<h4 id="common-species-sampling-approaches">‘common’ species sampling approaches<a class="anchor" aria-label="anchor" href="#common-species-sampling-approaches"></a>
</h4>
<p>Each approach is based on fundamental ecological theory. In practice,
they all attempt to capture the geographic and environmental variation
across a species range and largely rely on Sewall Wright’s concept of
Isolation by Distance (1943), the idea that populations that are more
geographically proximate will be more genetically similar than
populations that are further apart. Hence, they are all a priori
approaches, with the exception of the
<code>EnvironmentalBasedSample</code> function, which relies on a
species distribution model (SDM) to inform sampling locations and is
based on the concept of Isolation by Environment (Wang &amp; Bradburd
2014). While none of these are meant to supplant genetic diversity-based
sampling, we recognize that having these data is rare, and even
gathering them would often miss the opportunity to make opportunistic
seed collections along the way.</p>
<p>The methods have various trade-offs in terms of computational and
environmental complexity, although all are designed to be run on a
standard desktop or laptop computer, and processing many thousands of
species overnight is possible. The table below presents the currently
implemented sampling scheme and the user-facing function associated with
them.</p>
<table class="table">
<colgroup>
<col width="34%">
<col width="50%">
<col width="7%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Description</th>
<th>Comp.</th>
<th>Envi.</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>GridBasedSample</code></td>
<td>Creates and merges <em>n</em> grids over area</td>
<td>L</td>
<td>L</td>
</tr>
<tr class="even">
<td><code>PointBasedSample</code></td>
<td>Creates points to make grids over area</td>
<td>L</td>
<td>L</td>
</tr>
<tr class="odd">
<td><code>EqualAreaSample</code></td>
<td>Breaks area into similar size pieces</td>
<td>L</td>
<td>L</td>
</tr>
<tr class="even">
<td><code>OpportunisticSample</code></td>
<td>Using PBS with existing records</td>
<td>L</td>
<td>L</td>
</tr>
<tr class="odd">
<td><code>IBDBasedSample</code></td>
<td>Breaks species range into clusters</td>
<td>H</td>
<td>M</td>
</tr>
<tr class="even">
<td><code>EcoregionBasedSample</code></td>
<td>Using existing ecoregions to sample</td>
<td>L</td>
<td>H</td>
</tr>
<tr class="odd">
<td><code>EnvironmentalBasedSample</code></td>
<td>Uses correlations from SDM to sample</td>
<td>H</td>
<td>H</td>
</tr>
</tbody>
</table>
<p>The first three functions, <code>GridBasedSample</code>,
<code>PointBasedSample</code>, and <code>EqualAreaSample</code>, are
flavors of the same process, where we try to partition the species range
into geographic chunks (polygons) of similar sizes.<br>
Each requires minimal computational power but features essentially no
environmental information of context beyond the species current range
restriction. The fourth method, <code>OpportunisticSample</code>, is a
special case of the first three, where existing collection records are
used to help guide the sampling scheme. <code>OpportunisticSample</code>
uses the same underlying logic as <code>PointBasedSample</code>, but
first ‘removes’ areas around existing collection records, and then fills
in the remaining gaps with new sampling locations The first three
functions would be used when <em>establishing</em> a new collection
strategy for a species, while <code>OpportunisticSample</code> would be
used when trying to <em>augment</em> an existing collection
strategy.</p>
<p>The fifth method, <code>IBDBasedSample</code>, is largely in a class
of its own; in lieu of using the <em>continuity</em> of geographic space
as its primary method, it focuses on the discontinuity of space and uses
distance matrices and clustering to determine which patches of range are
closer to each other than to other patches. This method is more
computationally expensive than the previous four, and while it
incorporates some environmental information, it is not explicit in the
way that the final two methods are.</p>
<p>The <code>EcoregionBasedSample</code> may be the most commonly
encountered method in North America, and in various formats, is driving
two major germplasm banking projects in both the Midwest and
Southeastern United States, as well as at a high level, composing the
way that numerous native seed collection coordinators are structured in
the West. This method uses environmental variation as an implicit guide
to target populations for seed collections; that is, the different
ecoregions serve as stratification agents. In broad strokes, the general
thinking is that these regions represent continuous transitions in the
environment faced by the species, and populations across these ranges
will be differently adapted to these environments. However, it relies on
existing ecoregion maps, which may or may not be relevant to the ecology
of the species.</p>
<p>The final function, <code>EnvironmentalBasedSample</code>, is both
the most computationally expensive and the most environmentally
explicit. This function fits a Species Distribution Model (SDM),
generated via a generalized linear model (glmnet), supported by this
package, to cluster populations based on environmental variables related
to their observed distributions and the spatial configuration and
distance between them. On paper, this draws together all aspects of the
above functions; however no empirical testing of this approach has been
implemented.</p>
</div>
<div class="section level4">
<h4 id="rare-species-sampling-approach">rare species sampling approach<a class="anchor" aria-label="anchor" href="#rare-species-sampling-approach"></a>
</h4>
<p>All of the above methods are designed for common species, that is
species with more than 50 or 100 unique occurrence records. Each method
returns a polygon geometry that provides guidelines for the general
regions where the species should be sampled. However, for rare species,
where the occurrence of individual populations is well tracked, and
which are generally collected along maternal lines, requiring
considerably more field effort to gather seed, a supplemental approach
exists that suggests the priority in which individual populations
(‘points’) can be sampled.</p>
<p>The <code>maximizeDispersion</code> method utilizes either geographic
distances alone or geographic distances in conjunction with a distance
matrix developed from a few key environmental variables to suggest which
populations should be prioritized for seed collections. This method is
based on the concept of maximizing the dispersion of selected points in
geographic and environmental spaces to best capture the overall
variation present in the species range.</p>
</div>
<div class="section level4">
<h4 id="installation">installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h4>
<p><code>safeHavens</code> can be installed directly from github, using
either devtools or remotes. Note that the software relies on a few other
packages that may require additional system dependencies, such as
<code>rgeos</code> and <code>rgdal</code>. It also requires a working
installation of <code>GDAL</code>, <code>PROJ</code>, and
<code>GEOS</code> on your system, as well as Rcpp.</p>
<p>Generally, these installations go off without a hitch but may require
additional attention from some users. The tradeoff is that these are all
<em>free</em> tools with enormous power and are quite commonly used in
ecological and geographical modelling.</p>
<p><code>safeHavens</code> can be installed from GitHub with
<code>remotes</code> or <code>devtools</code>. Some users have issues
with devtools on windows, but remotes tends to work well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">'sagesteppe/safeHavens'</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># install.packages('devtools') </span></span>
<span><span class="co"># devtools::install_github('sagesteppe/safeHavens')</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reed Benkendorf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
