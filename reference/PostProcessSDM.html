<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Modify the output rasters from the SDM process to better match target goals — PostProcessSDM • safeHavens</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Modify the output rasters from the SDM process to better match target goals — PostProcessSDM"><meta name="description" content="This is the last 'analytical' portion of the SD modelling process. It will
produce binary (Yes/ NA) rasters of species suitable habitat based on a three step
process. The first step uses dismo::thresholds to determine what feature of the
raster we want to maximuize, in this case I want a raster to be more than less
likely to capture a presence than omit it. Then we can subset the predicted habitat, which
has not been dispersed too by comparing nearest neighbor distances of the observed points.
Finally, we can add back in areas to the raster where we know that the species has been
observed, hopefully these are not missed in the original SDM, but there are always
some suspicious points which are difficult to fit in light of the inertia
of the rest of the species."><meta property="og:description" content="This is the last 'analytical' portion of the SD modelling process. It will
produce binary (Yes/ NA) rasters of species suitable habitat based on a three step
process. The first step uses dismo::thresholds to determine what feature of the
raster we want to maximuize, in this case I want a raster to be more than less
likely to capture a presence than omit it. Then we can subset the predicted habitat, which
has not been dispersed too by comparing nearest neighbor distances of the observed points.
Finally, we can add back in areas to the raster where we know that the species has been
observed, hopefully these are not missed in the original SDM, but there are always
some suspicious points which are difficult to fit in light of the inertia
of the rest of the species."><meta property="og:image" content="https://sagesteppe.github.io/safeHavens/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">safeHavens</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/safeHavens.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Modify the output rasters from the SDM process to better match target goals</h1>

      <div class="d-none name"><code>PostProcessSDM.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This is the last 'analytical' portion of the SD modelling process. It will
produce binary (Yes/ NA) rasters of species suitable habitat based on a three step
process. The first step uses dismo::thresholds to determine what feature of the
raster we want to maximuize, in this case I want a raster to be <em>more</em> than less
likely to capture a presence than omit it. Then we can subset the predicted habitat, which
has not been dispersed too by comparing nearest neighbor distances of the observed points.
Finally, we can add back in areas to the raster where we know that the species has been
observed, hopefully these are not missed in the original SDM, but there are always
some suspicious points which are difficult to fit in light of the inertia
of the rest of the species.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PostProcessSDM</span><span class="op">(</span></span>
<span>  <span class="va">rast_cont</span>,</span>
<span>  <span class="va">test</span>,</span>
<span>  <span class="va">train</span>,</span>
<span>  <span class="va">thresh_metric</span>,</span>
<span>  <span class="va">quant_amt</span>,</span>
<span>  <span class="va">planar_projection</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-rast-cont">rast_cont<a class="anchor" aria-label="anchor" href="#arg-rast-cont"></a></dt>
<dd><p>the raw unaltered (except masked) raster predictions (x$RasterPredictions).</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>the test data partition from the <code>elasticSDM</code> function (x$TestData).</p></dd>


<dt id="arg-train">train<a class="anchor" aria-label="anchor" href="#arg-train"></a></dt>
<dd><p>the train data partition from the <code>elasticSDM</code> function (x$TrainData).</p></dd>


<dt id="arg-thresh-metric">thresh_metric<a class="anchor" aria-label="anchor" href="#arg-thresh-metric"></a></dt>
<dd><p>?dismo::threshold for all options, defaults to 'sensitivity'</p></dd>


<dt id="arg-quant-amt">quant_amt<a class="anchor" aria-label="anchor" href="#arg-quant-amt"></a></dt>
<dd><p>the quantile of nearest neighbors distance to use for steps 2 and 3.
defaults to 0.25, using the median nearest neighbor distance of 10 bootstrapping replicates for
estimating a buffer to restrict the SDM surface too, and the minimum of the 10 bootstrap reps
for adding surface to presence points which were not placed in binary suitable habitat.</p></dd>


<dt id="arg-planar-projection">planar_projection<a class="anchor" aria-label="anchor" href="#arg-planar-projection"></a></dt>
<dd><p>Numeric, or character vector. An EPSG code, or a proj4 string, for a planar coordinate projection, in meters, for use with the function. For species with very narrow ranges a UTM zone may be best (e.g. 32611 for WGS84 zone 11 north, or 29611 for NAD83 zone 11 north). Otherwise a continental scale projection like 5070 See https://projectionwizard.org/ for more information on CRS. The value is simply passed to sf::st_transform if you need to experiment.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list containing two options. 1) A spatraster with 4 layers, A) the continuous probabilities of suitable habitat feed in from <code>elasticSDM</code>, B) this raster in binary format based on the specified thresholding statistic, C) the binary raster from B + with habitat clipped to the buffer distances determined by measuring nearest neighbor distances and thresholding at a quantile D) the binary raster from C, adding the same distance to points which were initially in cells classified by thresholding as not having suitable habitat.
D' is the general basis for all future steps, but either B, or C serve as alternatives.
2) All threshold statistics calculated by dismo as a dataframe.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Reed Benkendorf.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

